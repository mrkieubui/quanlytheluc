!function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(s){return t(s,window,document)}):"object"==typeof exports?module.exports=function(s,o){return s||(s=window),o&&o.fn.dataTable||(o=require("datatables.net")(s,o).$),t(o,s,s.document)}:t(jQuery,window,document)}(function(t,s,o,e){var r=t.fn.dataTable,i=function(s,r){if(this instanceof i){r===e&&(r={});var l=t.fn.dataTable.Api(s);this.s={dt:l.settings()[0],dtApi:l,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1,forceReposition:!1},this.s=t.extend(this.s,i.oDefaults,r),this.s.heights.row=this.s.rowHeight,this.dom={force:o.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller||(this.s.dt.oScroller=this,this._fnConstruct())}else alert("Scroller warning: Scroller must be initialised with the 'new' keyword.")};t.extend(i.prototype,{fnRowToPixels:function(t,s,o){return t-=this.s.baseRowTop,o=o?this._domain("virtualToPhysical",this.s.baseScrollTop):this.s.baseScrollTop,o+=t*this.s.heights.row,s||s===e?parseInt(o,10):o},fnPixelsToRow:function(t,s,o){return t-=this.s.baseScrollTop,o=o?(this._domain("physicalToVirtual",this.s.baseScrollTop)+t)/this.s.heights.row:t/this.s.heights.row+this.s.baseRowTop,s||s===e?parseInt(o,10):o},fnScrollToRow:function(s,o){var e=this,r=!1,i=this.fnRowToPixels(s),l=s-(this.s.displayBuffer-1)/2*this.s.viewportRows;0>l&&(l=0),(i>this.s.redrawBottom||i<this.s.redrawTop)&&this.s.dt._iDisplayStart!==l&&(r=!0,i=this._domain("virtualToPhysical",s*this.s.heights.row),this.s.redrawTop<i&&i<this.s.redrawBottom&&(this.s.forceReposition=!0,o=!1)),void 0===o||o?(this.s.ani=r,t(this.dom.scroller).animate({scrollTop:i},function(){setTimeout(function(){e.s.ani=!1},25)})):t(this.dom.scroller).scrollTop(i)},fnMeasure:function(s){this.s.autoHeight&&this._fnCalcRowHeight();var r=this.s.heights;r.row&&(r.viewport=t.contains(o,this.dom.scroller)?t(this.dom.scroller).height():this._parseHeight(t(this.dom.scroller).css("height")),r.viewport||(r.viewport=this._parseHeight(t(this.dom.scroller).css("max-height"))),this.s.viewportRows=parseInt(r.viewport/r.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer),(s===e||s)&&this.s.dt.oInstance.fnDraw(!1)},fnPageInfo:function(){var t=this.dom.scroller.scrollTop,s=this.s.dt.fnRecordsDisplay(),o=Math.ceil(this.fnPixelsToRow(t+this.s.heights.viewport,!1,this.s.ani));return{start:Math.floor(this.fnPixelsToRow(t,!1,this.s.ani)),end:s<o?s-1:o-1}},_fnConstruct:function(){var o=this,e=this.s.dtApi;if(this.s.dt.oFeatures.bPaginate){this.dom.force.style.position="relative",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=t("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=t(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",t(e.table().container()).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=t('<div class="dataTables_processing DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),t(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){o.s.dtApi.state.save()},500),t(this.dom.scroller).on("scroll.dt-scroller",function(){o._fnScroll.call(o)}),t(this.dom.scroller).on("touchstart.dt-scroller",function(){o._fnScroll.call(o)}),t(s).on("resize.dt-scroller",function(){o.fnMeasure(!1),o._fnInfo()});var r=!0,i=e.state.loaded();e.on("stateSaveParams.scroller",function(t,s,e){e.scroller={topRow:r&&i&&i.scroller?i.scroller.topRow:o.s.topRowFloat,baseScrollTop:o.s.baseScrollTop,baseRowTop:o.s.baseRowTop},r=!1}),i&&i.scroller&&(this.s.topRowFloat=i.scroller.topRow,this.s.baseScrollTop=i.scroller.baseScrollTop,this.s.baseRowTop=i.scroller.baseRowTop),e.on("init.scroller",function(){o.fnMeasure(!1),o._fnDrawCallback(),e.on("draw.scroller",function(){o._fnDrawCallback()})}),e.on("preDraw.dt.scroller",function(){o._fnScrollForce()}),e.on("destroy.scroller",function(){t(s).off("resize.dt-scroller"),t(o.dom.scroller).off(".dt-scroller"),t(o.s.dt.nTable).off(".scroller"),t(o.s.dt.nTableWrapper).removeClass("DTS"),t("div.DTS_Loading",o.dom.scroller.parentNode).remove(),o.dom.table.style.position="",o.dom.table.style.top="",o.dom.table.style.left=""})}else this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller")},_fnScroll:function(){var s,o=this,e=this.s.heights,r=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll)if(this.s.dt.bFiltered||this.s.dt.bSorted)this.s.lastScrollTop=0;else{if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){o.s.dtApi.state.save()},250),this.s.forceReposition||r<this.s.redrawTop||r>this.s.redrawBottom){var i=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);s=parseInt(this._domain("physicalToVirtual",r)/e.row,10)-i,this.s.topRowFloat=this._domain("physicalToVirtual",r)/e.row,this.s.forceReposition=!1,0>=s?s=0:s+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?0>(s=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength)&&(s=0):0!=s%2&&s++,s!=this.s.dt._iDisplayStart&&(this.s.tableTop=t(this.s.dt.nTable).offset().top,this.s.tableBottom=t(this.s.dt.nTable).height()+this.s.tableTop,e=function(){null===o.s.scrollDrawReq&&(o.s.scrollDrawReq=r),o.s.dt._iDisplayStart=s,o.s.dt.oApi._fnDraw(o.s.dt)},this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(e,this.s.serverWait)):e(),this.dom.loader&&!this.s.loaderVisible)&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}else this.s.topRowFloat=this.fnPixelsToRow(r,!1,!0);this.s.lastScrollTop=r,this.s.stateSaveThrottle()}},_domain:function(t,s){var o,e=this.s.heights;if(e.virtual===e.scroll)return s;var r=(e.scroll-e.viewport)/2,i=(e.virtual-e.viewport)/2;return o=i/(r*r),"virtualToPhysical"===t?s<i?Math.pow(s/o,.5):0>(s=2*i-s)?e.scroll:2*r-Math.pow(s/o,.5):"physicalToVirtual"===t?s<r?s*s*o:0>(s=2*r-s)?e.virtual:2*i-s*s*o:void 0},_parseHeight:function(o){var e,r=/^([+-]?(?:\d+(?:\.\d+)?|\.\d+))(px|em|rem|vh)$/.exec(o);return null===r?0:(o=parseFloat(r[1]),"px"===(r=r[2])?e=o:"vh"===r?e=o/100*t(s).height():"rem"===r?e=o*parseFloat(t(":root").css("font-size")):"em"===r&&(e=o*parseFloat(t("body").css("font-size"))),e||0)},_fnDrawCallback:function(){var s=this,o=this.s.heights,e=this.dom.scroller.scrollTop,r=t(this.s.dt.nTable).height(),i=this.s.dt._iDisplayStart,l=this.s.dt._iDisplayLength,a=this.s.dt.fnRecordsDisplay();this.s.skip=!0,(this.s.dt.bSorted||this.s.dt.bFiltered)&&0===i&&(this.s.topRowFloat=0),e=0===i?this.s.topRowFloat*o.row:i+l>=a?o.scroll-(a-this.s.topRowFloat)*o.row:this._domain("virtualToPhysical",this.s.topRowFloat*o.row),this.dom.scroller.scrollTop=e,this.s.baseScrollTop=e,this.s.baseRowTop=this.s.topRowFloat;var n=e-(this.s.topRowFloat-i)*o.row;0===i?n=0:i+l>=a&&(n=o.scroll-r),this.dom.table.style.top=n+"px",this.s.tableTop=n,this.s.tableBottom=r+this.s.tableTop,this.s.redrawTop=e-(r=(e-this.s.tableTop)*this.s.boundaryScale),this.s.redrawBottom=e+r>o.scroll-o.viewport-o.row?o.scroll-o.viewport-o.row:e+r,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.iScroller?((e=!(!this.s.dt.sAjaxSource&&!s.s.dt.ajax||this.s.dt.oFeatures.bServerSide))&&2==this.s.dt.iDraw||!e&&1==this.s.dt.iDraw)&&setTimeout(function(){t(s.dom.scroller).scrollTop(s.s.dt.oLoadedState.iScroller),s.s.redrawTop=s.s.dt.oLoadedState.iScroller-o.viewport/2,setTimeout(function(){s.s.ingnoreScroll=!1},0)},0):s.s.ingnoreScroll=!1,this.s.dt.oFeatures.bInfo&&setTimeout(function(){s._fnInfo.call(s)},0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var t=this.s.heights;t.virtual=t.row*this.s.dt.fnRecordsDisplay(),t.scroll=t.virtual,1e6<t.scroll&&(t.scroll=1e6),this.dom.force.style.height=t.scroll>this.s.heights.row?t.scroll+"px":this.s.heights.row+"px"},_fnCalcRowHeight:function(){var s=this.s.dt,o=s.nTable,e=o.cloneNode(!1),r=t("<tbody/>").appendTo(e),i=t('<div class="'+s.oClasses.sWrapper+' DTS"><div class="'+s.oClasses.sScrollWrapper+'"><div class="'+s.oClasses.sScrollBody+'"></div></div></div>');for(t("tbody tr:lt(4)",o).clone().appendTo(r);3>t("tr",r).length;)r.append("<tr><td>&nbsp;</td></tr>");t("div."+s.oClasses.sScrollBody,i).append(e),t(s=this.s.dt.nHolding||o.parentNode).is(":visible")||(s="body"),i.appendTo(s),this.s.heights.row=t("tr",r).eq(1).outerHeight(),i.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var s=this.s.dt,o=s.oLanguage,e=this.dom.scroller.scrollTop,r=Math.floor(this.fnPixelsToRow(e,!1,this.s.ani)+1),i=s.fnRecordsTotal(),l=s.fnRecordsDisplay(),a=(e=l<(e=Math.ceil(this.fnPixelsToRow(e+this.s.heights.viewport,!1,this.s.ani)))?l:e,s.fnFormatNumber(r)),n=s.fnFormatNumber(e),h=s.fnFormatNumber(i),c=s.fnFormatNumber(l);if(a=0===s.fnRecordsDisplay()&&s.fnRecordsDisplay()==s.fnRecordsTotal()?o.sInfoEmpty+o.sInfoPostFix:0===s.fnRecordsDisplay()?o.sInfoEmpty+" "+o.sInfoFiltered.replace("_MAX_",h)+o.sInfoPostFix:s.fnRecordsDisplay()==s.fnRecordsTotal()?o.sInfo.replace("_START_",a).replace("_END_",n).replace("_MAX_",h).replace("_TOTAL_",c)+o.sInfoPostFix:o.sInfo.replace("_START_",a).replace("_END_",n).replace("_MAX_",h).replace("_TOTAL_",c)+" "+o.sInfoFiltered.replace("_MAX_",s.fnFormatNumber(s.fnRecordsTotal()))+o.sInfoPostFix,(o=o.fnInfoCallback)&&(a=o.call(s.oInstance,s,r,e,i,l,a)),void 0!==(r=s.aanFeatures.i))for(i=0,l=r.length;i<l;i++)t(r[i]).html(a);t(s.nTable).triggerHandler("info.dt")}}}),i.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},i.oDefaults=i.defaults,i.version="1.5.0","function"==typeof t.fn.dataTable&&"function"==typeof t.fn.dataTableExt.fnVersionCheck&&t.fn.dataTableExt.fnVersionCheck("1.10.0")?t.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var s=t.oInit;new i(t,s.scroller||s.oScroller||{})},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.10.0 or greater - www.datatables.net/download"),t(o).on("preInit.dt.dtscroller",function(s,o){if("dt"===s.namespace){var e=o.oInit.scroller,l=r.defaults.scroller;(e||l)&&(l=t.extend({},e,l),!1!==e&&new i(o,l))}}),t.fn.dataTable.Scroller=i,t.fn.DataTable.Scroller=i;var l=t.fn.dataTable.Api;return l.register("scroller()",function(){return this}),l.register("scroller().rowToPixels()",function(t,s,o){var e=this.context;if(e.length&&e[0].oScroller)return e[0].oScroller.fnRowToPixels(t,s,o)}),l.register("scroller().pixelsToRow()",function(t,s,o){var e=this.context;if(e.length&&e[0].oScroller)return e[0].oScroller.fnPixelsToRow(t,s,o)}),l.register(["scroller().scrollToRow()","scroller.toPosition()"],function(t,s){return this.iterator("table",function(o){o.oScroller&&o.oScroller.fnScrollToRow(t,s)}),this}),l.register("row().scrollTo()",function(t){var s=this;return this.iterator("row",function(o,e){if(o.oScroller){var r=s.rows({order:"applied",search:"applied"}).indexes().indexOf(e);o.oScroller.fnScrollToRow(r,t)}}),this}),l.register("scroller.measure()",function(t){return this.iterator("table",function(s){s.oScroller&&s.oScroller.fnMeasure(t)}),this}),l.register("scroller.page()",function(){var t=this.context;if(t.length&&t[0].oScroller)return t[0].oScroller.fnPageInfo()}),i});