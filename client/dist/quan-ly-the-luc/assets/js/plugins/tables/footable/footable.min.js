!function(t,e){window.console=window.console||{log:function(){},error:function(){}},t.fn.footable=function(t,s){return t=t||{},this.filter("table").each(function(n,i){e.init(i,t,s)})};var s={events:[]};e.__debug__=JSON.parse(localStorage.getItem("footable_debug"))||!1,e.__debug_options__=JSON.parse(localStorage.getItem("footable_debug_options"))||s,e.debug=function(n,i){return e.is.boolean(n)?(e.__debug__=n,void(e.__debug__?(localStorage.setItem("footable_debug",JSON.stringify(e.__debug__)),e.__debug_options__=t.extend(!0,{},s,i||{}),e.is.hash(i)&&localStorage.setItem("footable_debug_options",JSON.stringify(e.__debug_options__))):(localStorage.removeItem("footable_debug"),localStorage.removeItem("footable_debug_options")))):e.__debug__},e.get=function(e){return t(e).first().data("__FooTable__")},e.init=function(t,s,n){var i=e.get(t);return i instanceof e.Table&&i.destroy(),new e.Table(t,s,n)},e.getRow=function(e){var s=t(e).closest("tr");return s.hasClass("footable-detail-row")&&(s=s.prev()),s.data("__FooTableRow__")}}(jQuery,FooTable=window.FooTable||{}),function(t){var e=function(){return!0};t.arr={},t.arr.each=function(e,s){if(t.is.array(e)&&t.is.fn(s))for(var n=0,i=e.length;i>n&&!1!==s(e[n],n);n++);},t.arr.get=function(e,s){var n=[];if(!t.is.array(e))return n;if(!t.is.fn(s))return e;for(var i=0,r=e.length;r>i;i++)s(e[i],i)&&n.push(e[i]);return n},t.arr.any=function(s,n){if(!t.is.array(s))return!1;n=t.is.fn(n)?n:e;for(var i=0,r=s.length;r>i;i++)if(n(s[i],i))return!0;return!1},t.arr.contains=function(e,s){if(!t.is.array(e)||t.is.undef(s))return!1;for(var n=0,i=e.length;i>n;n++)if(e[n]==s)return!0;return!1},t.arr.first=function(s,n){if(!t.is.array(s))return null;n=t.is.fn(n)?n:e;for(var i=0,r=s.length;r>i;i++)if(n(s[i],i))return s[i];return null},t.arr.map=function(e,s){var n=[],i=null;if(!t.is.array(e)||!t.is.fn(s))return n;for(var r=0,o=e.length;o>r;r++)null!=(i=s(e[r],r))&&n.push(i);return n},t.arr.remove=function(e,s){var n=[],i=[];if(!t.is.array(e)||!t.is.fn(s))return i;for(var r=0,o=e.length;o>r;r++)s(e[r],r,i)&&(n.push(r),i.push(e[r]));for(n.sort(function(t,e){return e-t}),r=0,o=n.length;o>r;r++)e.splice(n[r]-r,1);return i},t.arr.delete=function(e,s){var n=-1,i=null;if(!t.is.array(e)||t.is.undef(s))return i;for(var r=0,o=e.length;o>r;r++)if(e[r]==s){n=r,i=e[r];break}return-1!=n&&e.splice(n,1),i},t.arr.replace=function(t,e,s){var n=t.indexOf(e);-1!==n&&(t[n]=s)}}(FooTable),function(t){t.is={},t.is.type=function(t,e){return typeof t===e},t.is.defined=function(t){return void 0!==t},t.is.undef=function(t){return void 0===t},t.is.array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.is.date=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},t.is.boolean=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},t.is.string=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.is.number=function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)},t.is.fn=function(e){return t.is.defined(window)&&e===window.alert||"[object Function]"===Object.prototype.toString.call(e)},t.is.error=function(t){return"[object Error]"===Object.prototype.toString.call(t)},t.is.object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.is.hash=function(e){return t.is.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},t.is.element=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.is.promise=function(e){return t.is.object(e)&&t.is.fn(e.then)&&t.is.fn(e.promise)},t.is.jq=function(e){return t.is.defined(window.jQuery)&&e instanceof jQuery&&e.length>0},t.is.moment=function(e){return t.is.defined(window.moment)&&t.is.object(e)&&t.is.boolean(e._isAMomentObject)},t.is.emptyObject=function(e){if(!t.is.hash(e))return!1;for(var s in e)if(e.hasOwnProperty(s))return!1;return!0},t.is.emptyArray=function(e){return!t.is.array(e)||0===e.length},t.is.emptyString=function(e){return!t.is.string(e)||0===e.length}}(FooTable),function(t){t.str={},t.str.contains=function(e,s,n){return!t.is.emptyString(e)&&!t.is.emptyString(s)&&s.length<=e.length&&-1!==(n?e.toUpperCase().indexOf(s.toUpperCase()):e.indexOf(s))},t.str.containsExact=function(e,s,n){return!(t.is.emptyString(e)||t.is.emptyString(s)||s.length>e.length)&&new RegExp("\\b"+t.str.escapeRegExp(s)+"\\b",n?"i":"").test(e)},t.str.containsWord=function(e,s,n){if(t.is.emptyString(e)||t.is.emptyString(s)||e.length<s.length)return!1;for(var i=e.split(/\W/),r=0,o=i.length;o>r;r++)if(n?i[r].toUpperCase()==s.toUpperCase():i[r]==s)return!0;return!1},t.str.from=function(e,s){return t.is.emptyString(e)?e:t.str.contains(e,s)?e.substring(e.indexOf(s)+1):e},t.str.startsWith=function(e,s){return t.is.emptyString(e)?e==s:e.slice(0,s.length)==s},t.str.toCamelCase=function(e){return t.is.emptyString(e)?e:e.toUpperCase()===e?e.toLowerCase():e.replace(/^([A-Z])|[-\s_](\w)/g,function(e,s,n){return t.is.string(n)?n.toUpperCase():s.toLowerCase()})},t.str.random=function(e){return(e=t.is.emptyString(e)?"":e)+Math.random().toString(36).substr(2,9)},t.str.escapeRegExp=function(e){return t.is.emptyString(e)?e:e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}(FooTable),function(t){"use strict";function e(){}Object.create||(Object.create=function(){var e=function(){};return function(s){if(arguments.length>1)throw Error("Second argument not supported");if(!t.is.object(s))throw TypeError("Argument must be an object");e.prototype=s;var n=new e;return e.prototype=null,n}}());var s=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;e.__extend__=function(e,n,i,r){e[n]=t.is.fn(r)&&s.test(i)?function(t,e){return function(){var t,s;return t=this._super,this._super=r,s=e.apply(this,arguments),this._super=t,s}}(0,i):i},e.extend=function(n,i){function r(e,n,i,r){e[n]=t.is.fn(r)&&s.test(i)?function(t,e,s){return function(){var t,n;return t=this._super,this._super=s,n=e.apply(this,arguments),this._super=t,n}}(0,i,r):i}var o=Array.prototype.slice.call(arguments);if(n=o.shift(),i=o.shift(),t.is.hash(n)){var a=Object.create(this.prototype),l=this.prototype;for(var u in n)"__ctor__"!==u&&r(a,u,n[u],l[u]);var c=t.is.fn(a.__ctor__)?a.__ctor__:function(){if(!t.is.fn(this.construct))throw new SyntaxError('FooTable class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)};return a.construct=t.is.fn(a.construct)?a.construct:function(){},c.prototype=a,a.constructor=c,c.extend=e.extend,c}t.is.string(n)&&t.is.fn(i)&&r(this.prototype,n,i,this.prototype[n])},t.Class=e,t.ClassFactory=t.Class.extend({construct:function(){this.registered={}},contains:function(e){return t.is.defined(this.registered[e])},names:function(){var t,e=[];for(t in this.registered)this.registered.hasOwnProperty(t)&&e.push(t);return e},register:function(e,s,n){if(t.is.string(e)&&t.is.fn(s)){var i=this.registered[e];this.registered[e]={name:e,klass:s,priority:t.is.number(n)?n:t.is.defined(i)?i.priority:0}}},load:function(e,s,n){var i,r,o=this,a=Array.prototype.slice.call(arguments),l=[],u=[];for(i in e=a.shift()||{},o.registered)if(o.registered.hasOwnProperty(i)){var c=o.registered[i];e.hasOwnProperty(i)&&(t.is.string(r=e[i])&&(r=t.getFnPointer(e[i])),t.is.fn(r)&&(c={name:i,klass:r,priority:o.registered[i].priority})),l.push(c)}for(i in e)e.hasOwnProperty(i)&&!o.registered.hasOwnProperty(i)&&(t.is.string(r=e[i])&&(r=t.getFnPointer(e[i])),t.is.fn(r)&&l.push({name:i,klass:r,priority:0}));return l.sort(function(t,e){return e.priority-t.priority}),t.arr.each(l,function(e){t.is.fn(e.klass)&&u.push(o._make(e.klass,a))}),u},make:function(e,s,n){var i,r=this,o=Array.prototype.slice.call(arguments);return e=o.shift(),t.is.fn((i=r.registered[e]).klass)?r._make(i.klass,o):null},_make:function(t,e){function s(){return t.apply(this,e)}return s.prototype=t.prototype,new s}})}(FooTable),function(t,e){e.css2json=function(s){if(e.is.emptyString(s))return{};for(var n,i,r,o={},a=s.split(";"),l=0,u=a.length;u>l;l++)e.is.emptyString(a[l])||(n=a[l].split(":"),e.is.emptyString(n[0])||e.is.emptyString(n[1])||(i=e.str.toCamelCase(t.trim(n[0])),r=t.trim(n[1]),o[i]=r));return o},e.getFnPointer=function(t){if(e.is.emptyString(t))return null;var s=window,n=t.split(".");return e.arr.each(n,function(t){s[t]&&(s=s[t])}),e.is.fn(s)?s:null},e.checkFnValue=function(t,s,n){function i(t,s,n){return e.is.fn(s)?function(){return s.apply(t,arguments)}:n}return n=e.is.fn(n)?n:null,e.is.fn(s)?i(t,s,n):e.is.type(s,"string")?i(t,e.getFnPointer(s),n):n}}(jQuery,FooTable),function(t,e){e.Cell=e.Class.extend({construct:function(t,e,s,n){this.ft=t,this.row=e,this.column=s,this.created=!1,this.define(n)},define:function(s){this.$el=e.is.element(s)||e.is.jq(s)?t(s):null,this.$detail=null;var n=e.is.hash(s)&&e.is.hash(s.options)&&e.is.defined(s.value);this.value=this.column.parser.call(this.column,e.is.jq(this.$el)?this.$el:n?s.value:s,this.ft.o),this.o=t.extend(!0,{classes:null,style:null},n?s.options:{}),this.classes=e.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").match(/\S+/g):e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.jq(this.$el)&&this.$el.attr("style")?e.css2json(this.$el.attr("style")):e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{}},$create:function(){this.created||((this.$el=e.is.jq(this.$el)?this.$el:t("<td/>")).data("value",this.value).contents().detach().end().append(this.format(this.value)),this._setClasses(this.$el),this._setStyle(this.$el),this.$detail=t("<tr/>").addClass(this.row.classes.join(" ")).data("__FooTableCell__",this).append(t("<th/>")).append(t("<td/>")),this.created=!0)},collapse:function(){this.created&&(this.$detail.children("th").html(this.column.title),this.$el.clone().attr("id",this.$el.attr("id")?this.$el.attr("id")+"-detail":void 0).css("display","table-cell").html("").append(this.$el.contents().detach()).replaceAll(this.$detail.children("td").first()),e.is.jq(this.$detail.parent())||this.$detail.appendTo(this.row.$details.find(".footable-details > tbody")))},restore:function(){if(this.created){if(e.is.jq(this.$detail.parent())){var t=this.$detail.children("td").first();this.$el.attr("class",t.attr("class")).attr("style",t.attr("style")).css("display",this.column.hidden||!this.column.visible?"none":"table-cell").append(t.contents().detach())}this.$detail.detach()}},parse:function(){return this.column.parser.call(this.column,this.$el,this.ft.o)},format:function(t){return this.column.formatter.call(this.column,t,this.ft.o,this.row.value)},val:function(s,n,i){if(e.is.undef(s))return this.value;var r=e.is.hash(s)&&e.is.hash(s.options)&&e.is.defined(s.value);if(this.o=t.extend(!0,{classes:this.classes,style:this.style},r?s.options:{}),this.value=r?s.value:s,this.classes=e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},i=!e.is.boolean(i)||i,this.created&&i){this.$el.data("value",this.value).empty();var o=this.$detail.children("td").first().empty(),a=e.is.jq(this.$detail.parent())?o:this.$el;a.append(this.format(this.value)),this._setClasses(a),this._setStyle(a),(!e.is.boolean(n)||n)&&this.row.draw()}},_setClasses:function(t){var s=!e.is.emptyArray(this.column.classes),n=!e.is.emptyArray(this.classes),i=null;t.removeAttr("class"),(s||n)&&(s&&n?i=this.classes.concat(this.column.classes).join(" "):s?i=this.column.classes.join(" "):n&&(i=this.classes.join(" ")),e.is.emptyString(i)||t.addClass(i))},_setStyle:function(s){var n=!e.is.emptyObject(this.column.style),i=!e.is.emptyObject(this.style),r=null;s.removeAttr("style"),(n||i)&&(n&&i?r=t.extend({},this.column.style,this.style):n?r=this.column.style:i&&(r=this.style),e.is.hash(r)&&s.css(r))}})}(jQuery,FooTable),function(t,e){e.Column=e.Class.extend({construct:function(t,s,n){this.ft=t,this.type=e.is.emptyString(n)?"text":n,this.virtual=!!e.is.boolean(s.virtual)&&s.virtual,this.$el=e.is.jq(s.$el)?s.$el:null,this.index=e.is.number(s.index)?s.index:-1,this.internal=!1,this.define(s),this.$create()},define:function(t){this.hidden=!!e.is.boolean(t.hidden)&&t.hidden,this.visible=!e.is.boolean(t.visible)||t.visible,this.name=e.is.string(t.name)?t.name:null,null==this.name&&(this.name="col"+(t.index+1)),this.title=e.is.string(t.title)?t.title:null,!this.virtual&&null==this.title&&e.is.jq(this.$el)&&(this.title=this.$el.html()),null==this.title&&(this.title="Column "+(t.index+1)),this.style=e.is.hash(t.style)?t.style:e.is.string(t.style)?e.css2json(t.style):{},this.classes=e.is.array(t.classes)?t.classes:e.is.string(t.classes)?t.classes.match(/\S+/g):[],this.parser=e.checkFnValue(this,t.parser,this.parser),this.formatter=e.checkFnValue(this,t.formatter,this.formatter)},$create:function(){(this.$el=!this.virtual&&e.is.jq(this.$el)?this.$el:t("<th/>")).html(this.title).addClass(this.classes.join(" ")).css(this.style)},parser:function(s){if(e.is.element(s)||e.is.jq(s)){var n=t(s).data("value");return e.is.defined(n)?n:t(s).html()}return e.is.defined(s)&&null!=s?s+"":null},formatter:function(t,e,s){return null==t?"":t},createCell:function(t){var s=e.is.jq(t.$el)?t.$el.children("td,th").get(this.index):null,n=e.is.hash(t.value)?t.value[this.name]:null;return new e.Cell(this.ft,t,this,s||n)}}),e.columns=new e.ClassFactory,e.columns.register("text",e.Column)}(jQuery,FooTable),function(t,e){e.Component=e.Class.extend({construct:function(t,s){if(!(t instanceof e.Table))throw new TypeError("The instance parameter must be an instance of FooTable.Table.");this.ft=t,this.enabled=!!e.is.boolean(s)&&s},preinit:function(t){},init:function(){},destroy:function(){},predraw:function(){},draw:function(){},postdraw:function(){}}),e.components=new e.ClassFactory}(jQuery,FooTable),function(t,e){e.Defaults=function(){this.stopPropagation=!1,this.on=null},e.defaults=new e.Defaults}(jQuery,FooTable),function(t,e){e.Row=e.Class.extend({construct:function(t,e,s){this.ft=t,this.columns=e,this.created=!1,this.define(s)},define:function(s){this.$el=e.is.element(s)||e.is.jq(s)?t(s):null,this.$toggle=t("<span/>",{class:"footable-toggle fooicon fooicon-plus"});var n=e.is.hash(s),i=n&&e.is.hash(s.options)&&e.is.hash(s.value);this.value=n?i?s.value:s:null,this.o=t.extend(!0,{expanded:!1,classes:null,style:null},i?s.options:{}),this.expanded=e.is.jq(this.$el)&&this.$el.data("expanded")||this.o.expanded,this.classes=e.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").match(/\S+/g):e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.jq(this.$el)&&this.$el.attr("style")?e.css2json(this.$el.attr("style")):e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},this.cells=this.createCells();var r=this;r.value={},e.arr.each(r.cells,function(t){r.value[t.column.name]=t.val()})},$create:function(){if(!this.created){(this.$el=e.is.jq(this.$el)?this.$el:t("<tr/>")).data("__FooTableRow__",this),this._setClasses(this.$el),this._setStyle(this.$el),"last"==this.ft.rows.toggleColumn&&this.$toggle.addClass("last-column"),this.$details=t("<tr/>",{class:"footable-detail-row"}).append(t("<td/>",{colspan:this.ft.columns.visibleColspan}).append(t("<table/>",{class:"footable-details "+this.ft.classes.join(" ")}).append("<tbody/>")));var s=this;e.arr.each(s.cells,function(t){t.created||t.$create(),s.$el.append(t.$el)}),s.$el.off("click.ft.row").on("click.ft.row",{self:s},s._onToggle),this.created=!0}},createCells:function(){var t=this;return e.arr.map(t.columns,function(e){return e.createCell(t)})},val:function(s,n,i){var r=this;if(!e.is.hash(s))return e.is.hash(this.value)&&!e.is.emptyObject(this.value)||(this.value={},e.arr.each(this.cells,function(t){t.column.internal||(r.value[t.column.name]=t.val())})),this.value;this.collapse(!1);var o=e.is.hash(s),a=o&&e.is.hash(s.options)&&e.is.hash(s.value);if(this.o=t.extend(!0,{expanded:r.expanded,classes:r.classes,style:r.style},a?s.options:{}),this.expanded=this.o.expanded,this.classes=e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.match(/\S+/g):[],this.style=e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},o)if(a&&(s=s.value),e.is.hash(this.value))for(var l in s)s.hasOwnProperty(l)&&(this.value[l]=s[l]);else this.value=s;else this.value=null;i=!e.is.boolean(i)||i,e.arr.each(this.cells,function(t){!t.column.internal&&e.is.defined(r.value[t.column.name])&&t.val(r.value[t.column.name],!1,i)}),this.created&&i&&(this._setClasses(this.$el),this._setStyle(this.$el),(!e.is.boolean(n)||n)&&this.draw())},_setClasses:function(t){var s=!e.is.emptyArray(this.classes),n=null;t.removeAttr("class"),s&&(n=this.classes.join(" "),e.is.emptyString(n)||t.addClass(n))},_setStyle:function(t){var s=!e.is.emptyObject(this.style),n=null;t.removeAttr("style"),s&&e.is.hash(n=this.style)&&t.css(n)},expand:function(){if(this.created){var t=this;t.ft.raise("expand.ft.row",[t]).then(function(){t.__hidden__=e.arr.map(t.cells,function(t){return t.column.hidden&&t.column.visible?t:null}),t.__hidden__.length>0&&(t.$details.insertAfter(t.$el).children("td").first().attr("colspan",t.ft.columns.visibleColspan),e.arr.each(t.__hidden__,function(t){t.collapse()})),t.$el.attr("data-expanded",!0),t.$toggle.removeClass("fooicon-plus").addClass("fooicon-minus"),t.expanded=!0,t.ft.raise("expanded.ft.row",[t])})}},collapse:function(t){if(this.created){var s=this;s.ft.raise("collapse.ft.row",[s]).then(function(){e.arr.each(s.__hidden__,function(t){t.restore()}),s.$details.detach(),s.$el.removeAttr("data-expanded"),s.$toggle.removeClass("fooicon-minus").addClass("fooicon-plus"),(!e.is.boolean(t)||t)&&(s.expanded=!1),s.ft.raise("collapsed.ft.row",[s])})}},predraw:function(t){this.created&&(this.expanded&&this.collapse(!1),this.$toggle.detach(),(t=!e.is.boolean(t)||t)&&this.$el.detach())},draw:function(t){this.created||this.$create(),e.is.jq(t)&&t.append(this.$el);var s=this;e.arr.each(s.cells,function(t){t.$el.css("display",t.column.hidden||!t.column.visible?"none":"table-cell"),s.ft.rows.showToggle&&s.ft.columns.hasHidden&&("first"==s.ft.rows.toggleColumn&&t.column.index==s.ft.columns.firstVisibleIndex||"last"==s.ft.rows.toggleColumn&&t.column.index==s.ft.columns.lastVisibleIndex)&&t.$el.prepend(s.$toggle),t.$el.add(t.column.$el).removeClass("footable-first-visible footable-last-visible"),t.column.index==s.ft.columns.firstVisibleIndex&&t.$el.add(t.column.$el).addClass("footable-first-visible"),t.column.index==s.ft.columns.lastVisibleIndex&&t.$el.add(t.column.$el).addClass("footable-last-visible")}),this.expanded&&this.expand()},toggle:function(){this.created&&this.ft.columns.hasHidden&&(this.expanded?this.collapse():this.expand())},_onToggle:function(e){var s=e.data.self;t(e.target).is(s.ft.rows.toggleSelector)&&s.toggle()}})}(jQuery,FooTable),function(t,e){e.instances=[],e.Table=e.Class.extend({construct:function(s,n,i){this._resizeTimeout=null,this.id=e.instances.push(this),this.initialized=!1,this.$el=(e.is.jq(s)?s:t(s)).first(),this.$loader=t("<div/>",{class:"footable-loader"}).append(t("<span/>",{class:"fooicon fooicon-loader"})),this.o=t.extend(!0,{},e.defaults,n),this.data=this.$el.data()||{},this.classes=[],this.components=e.components.load(e.is.hash(this.data.components)?this.data.components:this.o.components,this),this.breakpoints=this.use(FooTable.Breakpoints),this.columns=this.use(FooTable.Columns),this.rows=this.use(FooTable.Rows),this._construct(i)},_construct:function(t){var s=this;return this._preinit().then(function(){return s._init().then(function(){return s.raise("ready.ft.table").then(function(){e.is.fn(t)&&t.call(s,s)})})}).always(function(t){s.$el.show(),e.is.error(t)&&console.error("FooTable: unhandled error thrown during initialization.",t)})},_preinit:function(){var t=this;return this.raise("preinit.ft.table",[t.data]).then(function(){var s=(t.$el.attr("class")||"").match(/\S+/g)||[];t.o.ajax=e.checkFnValue(t,t.data.ajax,t.o.ajax),t.o.stopPropagation=e.is.boolean(t.data.stopPropagation)?t.data.stopPropagation:t.o.stopPropagation;for(var n=0,i=s.length;i>n;n++)e.str.startsWith(s[n],"footable")||t.classes.push(s[n]);return t.$el.hide().after(t.$loader),t.execute(!1,!1,"preinit",t.data)})},_init:function(){var s=this;return s.raise("init.ft.table").then(function(){var n=s.$el.children("thead"),i=s.$el.children("tbody"),r=s.$el.children("tfoot");return s.$el.addClass("footable footable-"+s.id),e.is.hash(s.o.on)&&s.$el.on(s.o.on),0==r.length&&s.$el.append(r=t("<tfoot/>")),0==i.length&&s.$el.append("<tbody/>"),0==n.length&&s.$el.prepend(n=t("<thead/>")),s.execute(!1,!0,"init").then(function(){return s.$el.data("__FooTable__",s),0==r.children("tr").length&&r.remove(),0==n.children("tr").length&&n.remove(),s.raise("postinit.ft.table").then(function(){return s.draw()}).always(function(){t(window).off("resize.ft"+s.id,s._onWindowResize).on("resize.ft"+s.id,{self:s},s._onWindowResize),s.initialized=!0})})})},destroy:function(){var s=this;return s.raise("destroy.ft.table").then(function(){return s.execute(!0,!0,"destroy").then(function(){s.$el.removeData("__FooTable__").removeClass("footable-"+s.id),e.is.hash(s.o.on)&&s.$el.off(s.o.on),t(window).off("resize.ft"+s.id,s._onWindowResize),s.initialized=!1,e.instances[s.id]=null})}).fail(function(t){e.is.error(t)&&console.error("FooTable: unhandled error thrown while destroying the plugin.",t)})},raise:function(s,n){var i=this,r=e.__debug__&&(e.is.emptyArray(e.__debug_options__.events)||e.arr.any(e.__debug_options__.events,function(t){return e.str.contains(s,t)}));return(n=n||[]).unshift(this),t.Deferred(function(e){var o=t.Event(s);1==i.o.stopPropagation&&i.$el.one(s,function(t){t.stopPropagation()}),r&&console.log("FooTable:"+s+": ",n),i.$el.trigger(o,n),o.isDefaultPrevented()?(r&&console.log('FooTable: default prevented for the "'+s+'" event.'),e.reject(o)):e.resolve(o)})},use:function(t){for(var e=0,s=this.components.length;s>e;e++)if(this.components[e]instanceof t)return this.components[e];return null},draw:function(){var t=this,s=t.$el.clone().insertBefore(t.$el);return t.$el.detach(),t.execute(!1,!0,"predraw").then(function(){return t.raise("predraw.ft.table").then(function(){return t.execute(!1,!0,"draw").then(function(){return t.raise("draw.ft.table").then(function(){return t.execute(!1,!0,"postdraw").then(function(){return t.raise("postdraw.ft.table")})})})})}).fail(function(t){e.is.error(t)&&console.error("FooTable: unhandled error thrown during a draw operation.",t)}).always(function(){s.replaceWith(t.$el),t.$loader.remove()})},execute:function(t,s,n,i,r){var o=this,a=Array.prototype.slice.call(arguments);t=a.shift();var l=(s=a.shift())?e.arr.get(o.components,function(t){return t.enabled}):o.components.slice(0);return a.unshift(t?l.reverse():l),o._execute.apply(o,a)},_execute:function(s,n,i,r){if(!s||!s.length)return t.when();var o,a=this,l=Array.prototype.slice.call(arguments);return s=l.shift(),n=l.shift(),o=s.shift(),e.is.fn(o[n])?t.Deferred(function(t){try{var s=o[n].apply(o,l);if(e.is.promise(s))return s.then(t.resolve,t.reject);t.resolve(s)}catch(i){t.reject(i)}}).then(function(){return a._execute.apply(a,[s,n].concat(l))}):a._execute.apply(a,[s,n].concat(l))},_onWindowResize:function(t){var e=t.data.self;null!=e._resizeTimeout&&clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e.raise("resize.ft.table").then(function(){e.breakpoints.check()})},300)}})}(jQuery,FooTable),function(t,e){e.ArrayColumn=e.Column.extend({construct:function(t,e){this._super(t,e,"array")},parser:function(s){if(e.is.element(s)||e.is.jq(s)){var n=t(s),i=n.data("value");if(e.is.array(i))return i;i=n.html();try{i=JSON.parse(i)}catch(r){i=null}return e.is.array(i)?i:null}return e.is.array(s)?s:null},formatter:function(t,s,n){return e.is.array(t)?JSON.stringify(t):""}}),e.columns.register("array",e.ArrayColumn)}(jQuery,FooTable),function(t,e){e.is.undef(window.moment)||(e.DateColumn=e.Column.extend({construct:function(t,s){this._super(t,s,"date"),this.formatString=e.is.string(s.formatString)?s.formatString:"MM-DD-YYYY"},parser:function(s){if(e.is.element(s)||e.is.jq(s)){var n=t(s).data("value");s=e.is.defined(n)?n:t(s).text(),e.is.string(s)&&(s=isNaN(s)?s:+s)}if(e.is.date(s))return moment(s);if(e.is.object(s)&&e.is.boolean(s._isAMomentObject))return s;if(e.is.string(s)){if(isNaN(s))return moment(s,this.formatString);s=+s}return e.is.number(s)?moment(s):null},formatter:function(t,s,n){return e.is.object(t)&&e.is.boolean(t._isAMomentObject)&&t.isValid()?t.format(this.formatString):""},filterValue:function(s){if((e.is.element(s)||e.is.jq(s))&&(s=t(s).data("filterValue")||t(s).text()),e.is.hash(s)&&e.is.hash(s.options)&&(e.is.string(s.options.filterValue)&&(s=s.options.filterValue),e.is.defined(s.value)&&(s=s.value)),e.is.object(s)&&e.is.boolean(s._isAMomentObject))return s.format(this.formatString);if(e.is.string(s)){if(isNaN(s))return s;s=+s}return e.is.number(s)||e.is.date(s)?moment(s).format(this.formatString):e.is.defined(s)&&null!=s?s+"":""}}),e.columns.register("date",e.DateColumn))}(jQuery,FooTable),function(t,e){e.HTMLColumn=e.Column.extend({construct:function(t,e){this._super(t,e,"html")},parser:function(s){if(e.is.string(s)&&(s=t(t.trim(s))),e.is.element(s)&&(s=t(s)),e.is.jq(s)){var n=s.prop("tagName").toLowerCase();if("td"==n||"th"==n){var i=s.data("value");return e.is.defined(i)?i:s.contents()}return s}return null}}),e.columns.register("html",e.HTMLColumn)}(jQuery,FooTable),function(t,e){e.NumberColumn=e.Column.extend({construct:function(t,s){this._super(t,s,"number"),this.decimalSeparator=e.is.string(s.decimalSeparator)?s.decimalSeparator:".",this.thousandSeparator=e.is.string(s.thousandSeparator)?s.thousandSeparator:",",this.decimalSeparatorRegex=new RegExp(e.str.escapeRegExp(this.decimalSeparator),"g"),this.thousandSeparatorRegex=new RegExp(e.str.escapeRegExp(this.thousandSeparator),"g"),this.cleanRegex=new RegExp("[^-0-9"+e.str.escapeRegExp(this.decimalSeparator)+"]","g")},parser:function(s){if(e.is.element(s)||e.is.jq(s)){var n=t(s).data("value");s=e.is.defined(n)?n:t(s).text().replace(this.cleanRegex,"")}return e.is.string(s)&&(s=s.replace(this.thousandSeparatorRegex,"").replace(this.decimalSeparatorRegex,"."),s=parseFloat(s)),e.is.number(s)?s:null},formatter:function(t,e,s){if(null==t)return"";var n=(t+"").split(".");return 2==n.length&&n[0].length>3&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,this.thousandSeparator)),n.join(this.decimalSeparator)}}),e.columns.register("number",e.NumberColumn)}(jQuery,FooTable),function(t,e){e.ObjectColumn=e.Column.extend({construct:function(t,e){this._super(t,e,"object")},parser:function(s){if(e.is.element(s)||e.is.jq(s)){var n=t(s),i=n.data("value");if(e.is.object(i))return i;i=n.html();try{i=JSON.parse(i)}catch(r){i=null}return e.is.object(i)?i:null}return e.is.object(s)?s:null},formatter:function(t,s,n){return e.is.object(t)?JSON.stringify(t):""}}),e.columns.register("object",e.ObjectColumn)}(jQuery,FooTable),function(t,e){e.Breakpoint=e.Class.extend({construct:function(t,e){this.name=t,this.width=e}})}(jQuery,FooTable),function(t,e){e.Breakpoints=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.current=null,this.array=[],this.cascade=this.o.cascade,this.useParentWidth=this.o.useParentWidth,this.hidden=null,this._classNames="",this.getWidth=e.checkFnValue(this,this.o.getWidth,this.getWidth)},preinit:function(t){var s=this;return this.ft.raise("preinit.ft.breakpoints",[t]).then(function(){for(var n in s.cascade=e.is.boolean(t.cascade)?t.cascade:s.cascade,s.o.breakpoints=e.is.hash(t.breakpoints)?t.breakpoints:s.o.breakpoints,s.getWidth=e.checkFnValue(s,t.getWidth,s.getWidth),null==s.o.breakpoints&&(s.o.breakpoints={xs:480,sm:768,md:992,lg:1200}),s.o.breakpoints)s.o.breakpoints.hasOwnProperty(n)&&(s.array.push(new e.Breakpoint(n,s.o.breakpoints[n])),s._classNames+="breakpoint-"+n+" ");s.array.sort(function(t,e){return e.width-t.width})})},init:function(){var t=this;return this.ft.raise("init.ft.breakpoints").then(function(){t.current=t.get()})},draw:function(){this.ft.$el.removeClass(this._classNames).addClass("breakpoint-"+this.current.name)},calculate:function(){for(var t,s=this,n=null,i=[],r=null,o=s.getWidth(),a=0,l=s.array.length;l>a;a++)t=s.array[a],(!n&&a==l-1||o>=t.width&&(!(r instanceof e.Breakpoint)||o<r.width))&&(n=t),n||i.push(t.name),r=t;return i.push(n.name),s.hidden=i.join(" "),n},visible:function(t){if(e.is.emptyString(t))return!0;if("all"===t)return!1;for(var s=t.split(" "),n=0,i=s.length;i>n;n++)if(this.cascade?e.str.containsWord(this.hidden,s[n]):s[n]==this.current.name)return!1;return!0},check:function(){var t=this,s=t.get();s instanceof e.Breakpoint&&s!=t.current&&t.ft.raise("before.ft.breakpoints",[t.current,s]).then(function(){var e=t.current;return t.current=s,t.ft.draw().then(function(){t.ft.raise("after.ft.breakpoints",[t.current,e])})})},get:function(t){return e.is.undef(t)?this.calculate():t instanceof e.Breakpoint?t:e.is.string(t)?e.arr.first(this.array,function(e){return e.name==t}):e.is.number(t)&&t>=0&&t<this.array.length?this.array[t]:null},getWidth:function(){return e.is.fn(this.o.getWidth)?this.o.getWidth(this.ft):1==this.useParentWidth?this.getParentWidth():this.getViewportWidth()},getParentWidth:function(){return this.ft.$el.parent().width()},getViewportWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth,0)}}),e.components.register("breakpoints",e.Breakpoints,1e3)}(jQuery,FooTable),function(t){t.Column.prototype.breakpoints=null,t.Column.prototype.__breakpoints_define__=function(e){this.breakpoints=t.is.emptyString(e.breakpoints)?null:e.breakpoints},t.Column.extend("define",function(t){this._super(t),this.__breakpoints_define__(t)})}(FooTable),function(t){t.Defaults.prototype.breakpoints=null,t.Defaults.prototype.cascade=!1,t.Defaults.prototype.useParentWidth=!1,t.Defaults.prototype.getWidth=null}(FooTable),function(t,e){e.Columns=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.array=[],this.$header=null,this.showHeader=t.o.showHeader,this._fromHTML=e.is.emptyArray(t.o.columns)&&!e.is.promise(t.o.columns)},parse:function(s){var n=this;return t.Deferred(function(s){function i(s,n){var i=[];if(0==s.length||0==n.length)i=s.concat(n);else{var r=0;e.arr.each(s.concat(n),function(t){t.index>r&&(r=t.index)}),r++;for(var o,a,l=0;r>l;l++)o={},e.arr.each(s,function(t){return t.index==l?(o=t,!1):void 0}),a={},e.arr.each(n,function(t){return t.index==l?(a=t,!1):void 0}),i.push(t.extend(!0,{},o,a))}return i}var r,o,a=[],l=[],u=n.ft.$el.find("tr.footable-header, thead > tr:last:has([data-breakpoints]), tbody > tr:first:has([data-breakpoints]), thead > tr:last, tbody > tr:first").first();if(u.length>0){var c=u.parent().is("tbody")&&u.children().length==u.children("td").length;c||(n.$header=u.addClass("footable-header")),u.children("td,th").each(function(e,s){r=t(s),(o=r.data()).index=e,o.$el=r,o.virtual=c,l.push(o)}),c&&(n.showHeader=!1)}e.is.array(n.o.columns)&&!e.is.emptyArray(n.o.columns)?(e.arr.each(n.o.columns,function(t,e){t.index=e,a.push(t)}),n.parseFinalize(s,i(a,l))):e.is.promise(n.o.columns)?n.o.columns.then(function(t){e.arr.each(t,function(t,e){t.index=e,a.push(t)}),n.parseFinalize(s,i(a,l))},function(t){s.reject(Error("Columns ajax request error: "+t.status+" ("+t.statusText+")"))}):n.parseFinalize(s,i(a,l))})},parseFinalize:function(t,s){var n,i=this,r=[];e.arr.each(s,function(t){(n=e.columns.contains(t.type)?e.columns.make(t.type,i.ft,t):new e.Column(i.ft,t))&&r.push(n)}),e.is.emptyArray(r)?t.reject(Error("No columns supplied.")):(r.sort(function(t,e){return t.index-e.index}),t.resolve(r))},preinit:function(t){var s=this;return s.ft.raise("preinit.ft.columns",[t]).then(function(){return s.parse(t).then(function(n){s.array=n,s.showHeader=e.is.boolean(t.showHeader)?t.showHeader:s.showHeader})})},init:function(){var t=this;return this.ft.raise("init.ft.columns",[t.array]).then(function(){t.$create()})},destroy:function(){var t=this;this.ft.raise("destroy.ft.columns").then(function(){t._fromHTML||t.$header.remove()})},predraw:function(){var t=this,s=!0;t.visibleColspan=0,t.firstVisibleIndex=0,t.lastVisibleIndex=0,t.hasHidden=!1,e.arr.each(t.array,function(e){e.hidden=!t.ft.breakpoints.visible(e.breakpoints),!e.hidden&&e.visible&&(s&&(t.firstVisibleIndex=e.index,s=!1),t.lastVisibleIndex=e.index,t.visibleColspan++),e.hidden&&(t.hasHidden=!0)}),t.ft.$el.toggleClass("breakpoint",t.hasHidden)},draw:function(){e.arr.each(this.array,function(t){t.$el.css("display",t.hidden||!t.visible?"none":"table-cell")}),!this.showHeader&&e.is.jq(this.$header.parent())&&this.$header.detach()},$create:function(){var s=this;s.$header=e.is.jq(s.$header)?s.$header:t("<tr/>",{class:"footable-header"}),s.$header.children("th,td").detach(),e.arr.each(s.array,function(t){s.$header.append(t.$el)}),s.showHeader&&!e.is.jq(s.$header.parent())&&s.ft.$el.children("thead").append(s.$header)},get:function(t){return t instanceof e.Column?t:e.is.string(t)?e.arr.first(this.array,function(e){return e.name==t}):e.is.number(t)?e.arr.first(this.array,function(e){return e.index==t}):e.is.fn(t)?e.arr.get(this.array,t):null},ensure:function(t){var s=this,n=[];return e.is.array(t)?(e.arr.each(t,function(t){n.push(s.get(t))}),n):n}}),e.components.register("columns",e.Columns,900)}(jQuery,FooTable),function(t){t.Defaults.prototype.columns=[],t.Defaults.prototype.showHeader=!0}(FooTable),function(t,e){e.Rows=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.array=[],this.all=[],this.showToggle=t.o.showToggle,this.toggleSelector=t.o.toggleSelector,this.toggleColumn=t.o.toggleColumn,this.emptyString=t.o.empty,this.expandFirst=t.o.expandFirst,this.expandAll=t.o.expandAll,this.$empty=null,this._fromHTML=e.is.emptyArray(t.o.rows)&&!e.is.promise(t.o.rows)},parse:function(){var s=this;return t.Deferred(function(t){var n=s.ft.$el.children("tbody").children("tr");e.is.array(s.o.rows)&&s.o.rows.length>0?s.parseFinalize(t,s.o.rows):e.is.promise(s.o.rows)?s.o.rows.then(function(e){s.parseFinalize(t,e)},function(e){t.reject(Error("Rows ajax request error: "+e.status+" ("+e.statusText+")"))}):e.is.jq(n)?(s.parseFinalize(t,n),n.detach()):s.parseFinalize(t,[])})},parseFinalize:function(s,n){var i=this,r=t.map(n,function(t){return new e.Row(i.ft,i.ft.columns.array,t)});s.resolve(r)},preinit:function(t){var s=this;return s.ft.raise("preinit.ft.rows",[t]).then(function(){return s.parse().then(function(n){s.all=n,s.array=s.all.slice(0),s.showToggle=e.is.boolean(t.showToggle)?t.showToggle:s.showToggle,s.toggleSelector=e.is.string(t.toggleSelector)?t.toggleSelector:s.toggleSelector,s.toggleColumn=e.is.string(t.toggleColumn)?t.toggleColumn:s.toggleColumn,"first"!=s.toggleColumn&&"last"!=s.toggleColumn&&(s.toggleColumn="first"),s.emptyString=e.is.string(t.empty)?t.empty:s.emptyString,s.expandFirst=e.is.boolean(t.expandFirst)?t.expandFirst:s.expandFirst,s.expandAll=e.is.boolean(t.expandAll)?t.expandAll:s.expandAll})})},init:function(){var t=this;return t.ft.raise("init.ft.rows",[t.all]).then(function(){t.$create()})},destroy:function(){var t=this;this.ft.raise("destroy.ft.rows").then(function(){e.arr.each(t.array,function(e){e.predraw(!t._fromHTML)}),t.all=t.array=[]})},predraw:function(){e.arr.each(this.array,function(t){t.predraw()}),this.array=this.all.slice(0)},$create:function(){this.$empty=t("<tr/>",{class:"footable-empty"}).append(t("<td/>").text(this.emptyString))},draw:function(){var t=this,s=t.ft.$el.children("tbody"),n=!0;t.array.length>0?(t.$empty.detach(),e.arr.each(t.array,function(e){(t.expandFirst&&n||t.expandAll)&&(e.expanded=!0,n=!1),e.draw(s)})):(t.$empty.children("td").attr("colspan",t.ft.columns.visibleColspan),s.append(t.$empty))},load:function(s,n){var i=this,r=t.map(s,function(t){return new e.Row(i.ft,i.ft.columns.array,t)});e.arr.each(this.array,function(t){t.predraw()}),this.all=e.is.boolean(n)&&n?this.all.concat(r):r,this.array=this.all.slice(0),this.ft.draw()},expand:function(){e.arr.each(this.array,function(t){t.expand()})},collapse:function(){e.arr.each(this.array,function(t){t.collapse()})}}),e.components.register("rows",e.Rows,800)}(jQuery,FooTable),function(t){t.Defaults.prototype.rows=[],t.Defaults.prototype.empty="No results",t.Defaults.prototype.showToggle=!0,t.Defaults.prototype.toggleSelector="tr,td,.footable-toggle",t.Defaults.prototype.toggleColumn="first",t.Defaults.prototype.expandFirst=!1,t.Defaults.prototype.expandAll=!1}(FooTable),FooTable.Table.prototype.loadRows=function(t,e){this.rows.load(t,e)};