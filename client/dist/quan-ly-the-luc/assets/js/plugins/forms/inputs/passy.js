Object.keys||(Object.keys=function(){"use strict";var r=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=t.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var c,h,i=[];for(c in n)r.call(n,c)&&i.push(c);if(e)for(h=0;a>h;h++)r.call(n,t[h])&&i.push(t[h]);return i}}()),function(r){var e={character:{DIGIT:1,LOWERCASE:2,UPPERCASE:4,PUNCTUATION:8,EXTENDED:16},strength:{LOW:0,MEDIUM:1,HIGH:2,EXTREME:3},threshold:{medium:365,high:Math.pow(365,2),extreme:Math.pow(365,5)}};e.requirements={characters:[e.character.DIGIT,e.character.LOWERCASE,e.character.UPPERCASE,e.character.PUNCTUATION],length:{min:6,max:1/0}},e.charRanges={},e.charRanges[e.character.DIGIT]=[{min:48,max:57}],e.charRanges[e.character.LOWERCASE]=[{min:65,max:90}],e.charRanges[e.character.UPPERCASE]=[{min:97,max:122}],e.charRanges[e.character.PUNCTUATION]=[{min:32,max:47},{min:58,max:64},{min:91,max:96},{min:123,max:126}],e.charRanges[e.character.EXTENDED]=[{min:128,max:255}],Object.seal&&(Object.seal(e.character),Object.seal(e.charRanges),Object.seal(e.strength)),Object.freeze&&(Object.freeze(e.character),Object.freeze(e.charRanges),Object.freeze(e.strength)),e.getCharacterCount=function(){var r,t,a,n,c,h,i={};for(a in e.character){for(r=0,c=e.charRanges[h=e.character[a]],t=0;t<c.length;t++)r+=(n=c[t]).max-n.min+1;i[h]=r}return i},e.analyze=function(r){var t=e.analyzeCharacters(r),a=Math.pow(t,r.length)/1e6;return e.analyzeScore(a/60/60/24)},e.analyzeCharacters=function(r){var t,a,n=e.getCharacterCount(),c=0;for(t in e.character)e.contains(r,a=e.character[t])&&(c+=n[a]);return c},e.analyzeScore=function(r){return r>=e.threshold.extreme?e.strength.EXTREME:r>=e.threshold.high?e.strength.HIGH:r>=e.threshold.medium?e.strength.MEDIUM:e.strength.LOW},e.generate=function(r){var t,a,n=e.requirements.characters,c="",h=[];for(r=Math.max(r,e.requirements.length.min)||8,n=n||[e.character.DIGIT,e.character.LOWERCASE,e.character.UPPERCASE,e.character.PUNCTUATION],t=0;t<n.length;t++)h.push(n[t]);if(r>=1&&1/0>r)for(;h.length<r;)a=Math.floor(Math.random()*e.requirements.characters.length),h.push(e.requirements.characters[a]);for(h=h.sort(function(r,e){return Math.random()<.5}),t=0;t<h.length;t++)c+=e.generateCharacter(h[t]);return c},e.generateCharacter=function(r){var t,a,n=e.charRanges[r];return a=n[Math.floor(Math.random()*n.length)],t=Math.floor(Math.random()*(a.max-a.min+1))+a.min,String.fromCharCode(t)},e.contains=function(r,t){var a=r.length;if(t===e.character.DIGIT)return/\d/.test(r);if(t===e.character.LOWERCASE)return/[a-z]/.test(r);if(t===e.character.UPPERCASE)return/[A-Z]/.test(r);if(t===e.character.PUNCTUATION||t===e.character.EXTENDED)for(;a--;)if(e.isCharacter(r.charAt(a),t))return!0;return!1},e.isCharacter=function(r,t){for(var a,n=r.charCodeAt(0),c=e.charRanges[t]||[],h=c.length;h--;)if(n>=(a=c[h]).min&&n<=a.max)return!0;return!1},e.valid=function(r){var t;if(!e.requirements)return!0;if(r.length<e.requirements.length.min||r.length>e.requirements.length.max)return!1;for(t in e.requirements.characters)if(!e.contains(r,e.requirements.characters[t]))return!1;return!0};var t={init:function(a){r(this).each(function(n,c){var h=r(c);h.on("change keyup",function(){"function"==typeof a&&a.call(h,e.analyze(h.val()),t.valid.call(h))})})},generate:function(t){r(this).each(function(a,n){var c=r(n);c.val(e.generate(t)),c.change()})},valid:function(){var t=r(this),a=!0;return t.each(function(t,n){var c=r(n);return e.valid(c.val())?void 0:(a=!1,!1)}),a}};r.fn.passy=function(r){var e=Array.prototype.slice.call(arguments),a=Array.prototype.slice.call(arguments,1);return t[r]&&"function"==typeof t[r]?t[r].apply(this,a):"function"==typeof r?t.init.apply(this,e):this},r.extend({passy:e})}(jQuery);