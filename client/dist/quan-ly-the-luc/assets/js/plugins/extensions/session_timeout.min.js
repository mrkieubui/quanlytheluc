"use strict";!function(e){jQuery.sessionTimeout=function(o){function t(){clearTimeout(n),a.keepAlive&&(r||(e.ajax({type:"POST",url:a.keepAliveUrl,data:a.ajaxData}),r=!0,setTimeout(function(){r=!1},a.keepAliveInterval))),n=setTimeout(function(){"function"!=typeof a.onWarn?e("#sessionTimeout-dialog").modal("show"):a.onWarn("warn"),i()},a.warnAfter)}function i(){clearTimeout(n),n=setTimeout(function(){"function"!=typeof a.onRedir?(i(),window.location=a.redirUrl):a.onRedir()},a.redirAfter-a.warnAfter)}var n,s={heading:"h5",title:"Session timeout notification",message:"Your session is about to expire.",keepBtnText:"Stay connected",keepBtnClass:"btn btn-primary",logoutBtnText:"Logout",logoutBtnClass:"btn btn-danger",keepAliveUrl:"/keep-alive",ajaxData:"",redirUrl:"/timed-out",logoutUrl:"/log-out",warnAfter:9e5,redirAfter:12e5,keepAliveInterval:5e3,keepAlive:!0,ignoreUserActivity:!1,onWarn:!1,onRedir:!1},a=s;if(o&&(a=e.extend(s,o)),a.warnAfter>=a.redirAfter)return("undefined"!=typeof console||void 0!==console.error)&&console.error('Bootstrap-session-timeout plugin is miss-configured. Option "redirAfter" must be equal or greater than "warnAfter".'),!1;"function"!=typeof a.onWarn&&(e("body").append('<div class="modal fade" id="sessionTimeout-dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><'+a.heading+' class="modal-title">'+a.title+"</"+a.heading+'><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div><div class="modal-body">'+a.message+'</div><div class="modal-footer"><button id="sessionTimeout-dialog-keepalive" type="button" class="'+a.keepBtnClass+'" data-dismiss="modal">'+a.keepBtnText+'</button><button id="sessionTimeout-dialog-logout" type="button" class="'+a.logoutBtnClass+'">'+a.logoutBtnText+"</button></div></div></div></div>"),e("#sessionTimeout-dialog-logout").on("click",function(){window.location=a.logoutUrl}),e("#sessionTimeout-dialog").on("hide.bs.modal",function(){t()})),a.ignoreUserActivity||e(document).on("keyup mouseup mousemove touchend touchmove",function(){t()});var r=!1;t()}}(jQuery);