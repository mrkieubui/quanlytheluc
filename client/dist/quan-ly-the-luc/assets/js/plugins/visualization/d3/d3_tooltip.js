!function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?module.exports=function(t){return t.tip=e(t),t.tip}:t.d3.tip=e(t.d3)}(this,function(t){return function(){var e=function(){return"n"},n=function(){return[0,0]},r=function(){return" "},o=c(),i=null,l=null,f=null;function s(t){var e;i="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,l=i.createSVGPoint(),document.body.appendChild(o)}s.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(f=t.pop());var o,i=r.apply(this,t),l=n.apply(this,t),c=e.apply(this,t),d=p(),y=a.length,m=document.documentElement.scrollTop||document.body.scrollTop,h=document.documentElement.scrollLeft||document.body.scrollLeft;for(d.html(i).style({display:"block","pointer-events":"all"}).attr("class","d3-tip"),d.append("div").attr("class","d3-tip-arrow");y--;)d.classed(a[y],!1);return o=u.get(c).apply(this),d.classed(c,!0).style({top:o.top+l[0]+m+"px",left:o.left+l[1]+h+"px"}),s},s.hide=function(){return p().style({display:"none","pointer-events":"none"}),s},s.attr=function(e,n){if(arguments.length<2&&"string"==typeof e)return p().attr(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(p(),r),s},s.style=function(e,n){if(arguments.length<2&&"string"==typeof e)return p().style(e);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(p(),r),s},s.direction=function(n){return arguments.length?(e=null==n?n:t.functor(n),s):e},s.offset=function(e){return arguments.length?(n=null==e?e:t.functor(e),s):n},s.html=function(e){return arguments.length?(r=null==e?e:t.functor(e),s):r},s.destroy=function(){return o&&(p().remove(),o=null),s};var u=t.map({n:function(){var t=d();return{top:t.n.y-o.offsetHeight,left:t.n.x-o.offsetWidth/2}},s:function(){var t=d();return{top:t.s.y,left:t.s.x-o.offsetWidth/2}},e:function(){var t=d();return{top:t.e.y-o.offsetHeight/2,left:t.e.x}},w:function(){var t=d();return{top:t.w.y-o.offsetHeight/2,left:t.w.x-o.offsetWidth}},nw:function(){var t=d();return{top:t.nw.y-o.offsetHeight,left:t.nw.x-o.offsetWidth}},ne:function(){var t=d();return{top:t.ne.y-o.offsetHeight,left:t.ne.x}},sw:function(){var t=d();return{top:t.sw.y,left:t.sw.x-o.offsetWidth}},se:function(){var t=d();return{top:t.se.y,left:t.e.x}}}),a=u.keys();function c(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,display:"none","pointer-events":"none","box-sizing":"border-box"}),e.node()}function p(){return null===o&&(o=c(),document.body.appendChild(o)),t.select(o)}function d(){for(var e=f||t.event.target;void 0===e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),o=e.getBBox(),i=o.width,s=o.height,u=o.y;return l.x=o.x,l.y=u,n.nw=l.matrixTransform(r),l.x+=i,n.ne=l.matrixTransform(r),l.y+=s,n.se=l.matrixTransform(r),l.x-=i,n.sw=l.matrixTransform(r),l.y-=s/2,n.w=l.matrixTransform(r),l.x+=i,n.e=l.matrixTransform(r),l.x-=i/2,l.y-=s/2,n.n=l.matrixTransform(r),l.y+=s,n.s=l.matrixTransform(r),n}return s}});