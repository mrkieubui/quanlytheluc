var D3SunburstCombined={init:function(){!function(){if("undefined"!=typeof d3){var n=document.getElementById("d3-sunburst-combined");if(n){var t,e=Math.min(400,400)/2,a=d3.scale.linear().range([0,2*Math.PI]),r=d3.scale.sqrt().range([0,e]),i=d3.scale.category20(),d=d3.select(n).append("svg").attr("width",400).attr("height",400).append("g").attr("transform","translate(200,200)"),o=d3.layout.partition().sort(null).value(function(n){return 1}),u=d3.svg.arc().startAngle(function(n){return Math.max(0,Math.min(2*Math.PI,a(n.x)))}).endAngle(function(n){return Math.max(0,Math.min(2*Math.PI,a(n.x+n.dx)))}).innerRadius(function(n){return Math.max(0,r(n.y))}).outerRadius(function(n){return Math.max(0,r(n.y+n.dy))});function s(n){n.x0=n.x,n.dx0=n.dx}function c(n,e){var r=d3.interpolate({x:n.x0,dx:n.dx0},n);function i(t){var e=r(t);return n.x0=e.x,n.dx0=e.dx,u(e)}if(0==e){var d=d3.interpolate(a.domain(),[t.x,t.x+t.dx]);return function(n){return a.domain(d(n)),i(n)}}return i}d3.json("../../../../global_assets/demo_data/d3/sunburst/sunburst_basic.json",function(n,l){t=l;var f=d.datum(l).selectAll(".d3-sunbirst").data(o.nodes).enter().append("path").attr("class","d3-sunbirst d3-slice-border").attr("d",u).style("stroke-width",1).style("fill",function(n){return i((n.children?n:n.parent).name)}).on("click",function(n){t=n,f.transition().duration(750).attrTween("d",function(n){var t=d3.interpolate(a.domain(),[n.x,n.x+n.dx]),i=d3.interpolate(r.domain(),[n.y,1]),d=d3.interpolate(r.range(),[n.y?20:0,e]);return function(n,e){return e?function(t){return u(n)}:function(e){return a.domain(t(e)),r.domain(i(e)).range(d(e)),u(n)}}}(n))}).each(s);d3.selectAll(".combined-options input").on("change",function(){f.data(o.value("count"===this.value?function(){return 1}:function(n){return n.size}).nodes).transition().duration(750).attrTween("d",c)})})}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3SunburstCombined.init()});