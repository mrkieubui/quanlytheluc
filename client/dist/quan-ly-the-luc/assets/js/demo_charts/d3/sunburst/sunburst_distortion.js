var D3SunburstDistortion={init:function(){!function(){if("undefined"!=typeof d3){var n=document.getElementById("d3-sunburst-distortion");if(n){var t=Math.min(400,400)/2;color=d3.scale.category20c();var e=d3.select(n).append("svg").attr("width",400).attr("height",400).append("g").attr("transform","translate(200,200)"),r=d3.layout.partition().size([2*Math.PI,t]).value(function(n){return n.size}),a=d3.svg.arc().startAngle(function(n){return n.x}).endAngle(function(n){return n.x+n.dx}).innerRadius(function(n){return n.y}).outerRadius(function(n){return n.y+n.dy});function i(n){if(t=n.parent){var t,e=t.x;t.children.forEach(function(r){e+=d(r,e,r===n?.8*t.dx/n.value:t.dx*(1-.8)/(t.value-n.value))})}else d(n,0,n.dx/n.value);path.transition().duration(750).attrTween("d",u)}function d(n,t,e){if(n.x=t,n.children&&(r=n.children.length))for(var r,a=-1;++a<r;)t+=d(n.children[a],t,e);return n.dx=n.value*e}function o(n){n.x0=n.x,n.dx0=n.dx}function u(n){var t=d3.interpolate({x:n.x0,dx:n.dx0},n);return function(e){var r=t(e);return n.x0=r.x,n.dx0=r.dx,a(r)}}d3.json("../../../../global_assets/demo_data/d3/sunburst/sunburst_basic.json",function(n){path=e.data([n]).selectAll("path").data(r.nodes).enter().append("path").attr("class","d3-slice-border").attr("d",a).style("stroke-width",1).style("fill",function(n){return color((n.children?n:n.parent).name)}).on("click",i).each(o)})}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3SunburstDistortion.init()});