var D3LineGradient={init:function(){!function(){if("undefined"!=typeof d3){var t=document.getElementById("d3-line-gradient"),e=400;if(t){var a=d3.select(t),r={top:5,right:20,bottom:20,left:40},n=a.node().getBoundingClientRect().width-r.left-r.right,i=(e=e-r.top-r.bottom-5,d3.time.format("%Y%m%d").parse),d=d3.time.scale().range([0,n]),o=d3.scale.linear().range([e,0]),l=d3.svg.axis().scale(d).orient("bottom").ticks(7).tickFormat(d3.time.format("%b")),s=d3.svg.axis().scale(o).orient("left"),c=a.append("svg"),f=c.attr("width",n+r.left+r.right).attr("height",e+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")"),m=d3.svg.line().interpolate("basis").x(function(t){return d(t.date)}).y(function(t){return o(t.temperature)});d3.tsv("http://demo.interface.club/limitless/demo/Template/global_assets/demo_data/d3/lines/lines_gradient.tsv",function(t,a){a.forEach(function(t){t.date=i(t.date),t.temperature=+t.temperature}),d.domain([a[0].date,a[a.length-1].date]),o.domain(d3.extent(a,function(t){return t.temperature})),f.append("linearGradient").attr("id","temperature-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",o(50)).attr("x2",0).attr("y2",o(60)).selectAll("stop").data([{offset:"0%",color:"#4CAF50"},{offset:"100%",color:"#FF5722"}]).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}),f.append("path").datum(a).attr("class","d3-line d3-line-medium").attr("stroke","url(#temperature-gradient)").attr("d",m),f.append("g").attr("class","d3-axis d3-axis-horizontal").attr("transform","translate(0,"+e+")").call(l),f.append("g").attr("class","d3-axis d3-axis-vertical").call(s).append("text").attr("class","d3-axis-title").attr("transform","rotate(-90)").attr("y",10).attr("dy",".71em").style("text-anchor","end").text("Temperature (\xbaF)")}),window.addEventListener("resize",u);var p=document.querySelector(".sidebar-control");function u(){n=a.node().getBoundingClientRect().width-r.left-r.right,c.attr("width",n+r.left+r.right),f.attr("width",n+r.left+r.right),d.range([0,n]),f.selectAll(".d3-axis-horizontal").call(l),f.selectAll(".d3-line").attr("d",m)}p&&p.addEventListener("click",u)}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3LineGradient.init()});