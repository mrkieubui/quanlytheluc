var D3SplineTransition={init:function(){!function(){if("undefined"!=typeof d3){var t=document.getElementById("d3-spline-transition"),n=400;if(t){var e=d3.select(t),a={top:5,right:5,bottom:5,left:30},i=e.node().getBoundingClientRect().width-a.left-a.right,r=(n=n-a.top-a.bottom-5,d3.random.normal(0,.35)),d=d3.range(50).map(r),l=d3.scale.linear().domain([1,48]).range([0,i]),o=d3.scale.linear().domain([-1,1]).range([n,0]),s=d3.svg.axis().scale(l).orient("bottom"),c=d3.svg.axis().scale(o).orient("left"),p=e.append("svg"),g=p.attr("width",i+a.left+a.right).attr("height",n+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")"),f=d3.svg.line().interpolate("basis").x(function(t,n){return l(n)}).y(function(t,n){return o(t)});g.append("defs").append("clipPath").attr("id","transition-clip").append("rect").attr("width",i).attr("height",n),g.append("g").attr("class","d3-axis d3-axis-horizontal").attr("transform","translate(0,"+o(0)+")").call(s),g.append("g").attr("class","d3-axis d3-axis-vertical").call(c);var h=g.append("g").attr("clip-path","url(#transition-clip)").append("path").datum(d).attr("d",f).attr("class","d3-line d3-line-medium").style("stroke","#d87a80");!function t(){d.push(r()),h.attr("d",f).attr("transform",null).transition().duration(500).ease("linear").attr("transform","translate("+l(0)+",0)").each("end",t),d.shift()}(),window.addEventListener("resize",m);var u=document.querySelector(".sidebar-control");function m(){i=e.node().getBoundingClientRect().width-a.left-a.right,p.attr("width",i+a.left+a.right),g.attr("width",i+a.left+a.right),l.range([0,i]),g.selectAll(".d3-axis-horizontal").call(s),g.selectAll(".d3-line").attr("d",f),g.selectAll("#transition-clip rect").attr("width",i)}u&&u.addEventListener("click",m)}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3SplineTransition.init()});