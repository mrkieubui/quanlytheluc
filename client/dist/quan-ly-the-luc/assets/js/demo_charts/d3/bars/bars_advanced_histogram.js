var D3BarHistogram={init:function(){!function(){if("undefined"!=typeof d3){var t=document.getElementById("d3-histogram"),e=400;if(t){var a=d3.select(t),r={top:15,right:20,bottom:20,left:60},n=a.node().getBoundingClientRect().width-r.left-r.right,d=(e=e-r.top-r.bottom-5,d3.range(1e3).map(d3.random.bates(4))),i=d3.format(",.0f"),o=d3.scale.ordinal().range(["#98abc5","#8a89a6","#7b6888","#6b486b","#a05d56","#d0743c","#ff8c00"]),l=d3.scale.linear().domain([0,1]).range([0,n]),s=d3.layout.histogram().bins(l.ticks(20))(d),c=d3.scale.linear().domain([0,d3.max(s,function(t){return t.y})]).range([e,0]),f=d3.svg.axis().scale(l).orient("bottom"),u=a.append("svg"),g=u.attr("width",n+r.left+r.right).attr("height",e+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")"),m=d3.tip().attr("class","d3-tip").offset([-25,0]).html(function(t){return"Current value: <span class='font-weight-semibold'>"+i(t.y)+"</span>"});g.call(m);var h=g.selectAll(".d3-bar").data(s).enter().append("g").attr("class","d3-bar").attr("transform",function(t){return"translate("+l(t.x)+","+c(t.y)+")"}).on("mouseover",m.show).on("mouseout",m.hide);h.append("rect").attr("x",1).attr("width",l(s[0].dx)-3).attr("height",function(t){return e-c(t.y)}).style("fill",function(t){return o(t)}),h.append("text").attr("class","d3-text").attr("dy",".75em").attr("y",-15).attr("x",l(s[0].dx)/2).style("text-anchor","middle").text(function(t){return i(t.y)}),g.append("g").attr("class","d3-axis d3-axis-horizontal").attr("transform","translate(0,"+e+")").call(f),window.addEventListener("resize",x);var p=document.querySelector(".sidebar-control");function x(){n=a.node().getBoundingClientRect().width-r.left-r.right,u.attr("width",n+r.left+r.right),g.attr("width",n+r.left+r.right),l.range([0,n]),g.selectAll(".d3-axis-horizontal").call(f),g.selectAll(".d3-bar").attr("transform",function(t){return"translate("+l(t.x)+","+c(t.y)+")"}),g.selectAll(".d3-bar rect").attr("x",1).attr("width",l(s[0].dx)-3),g.selectAll(".d3-bar text").attr("x",l(s[0].dx)/2)}p&&p.addEventListener("click",x)}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3BarHistogram.init()});