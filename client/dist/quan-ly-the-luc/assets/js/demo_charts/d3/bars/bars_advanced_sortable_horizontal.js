var D3BarSortableHorizontal={init:function(){!function(){if("undefined"!=typeof d3){var t=document.getElementById("d3-bar-sortable-horizontal"),a=400;if(t){var e=d3.select(t),n={top:5,right:20,bottom:20,left:40},r=e.node().getBoundingClientRect().width-n.left-n.right,i=(a=a-n.top-n.bottom-5,d3.range(8)),o=i.map(d3.random.normal(40,10)),d=d3.scale.category20c(),l=d3.scale.linear().domain([0,d3.max(o)]).range([0,r]),s=d3.scale.ordinal().domain(i).rangeRoundBands([a,0],.3),c=d3.svg.axis().scale(l).orient("bottom"),f=d3.svg.axis().scale(s).orient("left").ticks(8),u=e.append("svg"),g=u.attr("width",r+n.left+n.right).attr("height",a+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");g.append("g").attr("class","d3-axis d3-axis-horizontal").attr("transform","translate(0,"+a+")").call(c),g.append("g").attr("class","d3-axis d3-axis-vertical").call(f);var h=g.selectAll(".d3-bar").data(o).enter().append("g").attr("class","d3-bar").attr("fill",function(t,a){return d(a)}).attr("transform",function(t,a){return"translate(0,"+s(a)+")"});h.append("rect").attr("height",s.rangeBand()).attr("width",l),h.append("text").attr("x",function(t){return l(t)-12}).attr("y",s.rangeBand()/2).attr("dy",".35em").style("fill","#fff").style("text-anchor","end").text(function(t,a){return a});var m=!1;setInterval(function(){(m=!m)?i.sort(function(t,a){return o[t]-o[a]}):i=d3.range(8),s.domain(i),h.transition().duration(750).delay(function(t,a){return 50*a}).attr("transform",function(t,a){return"translate(0,"+s(a)+")"})},4e3),window.addEventListener("resize",v);var p=document.querySelector(".sidebar-control");function v(){r=e.node().getBoundingClientRect().width-n.left-n.right,u.attr("width",r+n.left+n.right),g.attr("width",r+n.left+n.right),l.range([0,r]),g.selectAll(".d3-axis-horizontal").call(c),g.selectAll(".d3-bar rect").attr("width",l),g.selectAll(".d3-bar text").attr("x",function(t){return l(t)-12})}p&&p.addEventListener("click",v)}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3BarSortableHorizontal.init()});