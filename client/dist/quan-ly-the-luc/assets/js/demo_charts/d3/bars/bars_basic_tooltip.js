var D3BarTooltip={init:function(){!function(){if("undefined"!=typeof d3){var t=document.getElementById("d3-bar-tooltip"),e=400;if(t){var n=d3.select(t),a={top:5,right:10,bottom:20,left:40},r=n.node().getBoundingClientRect().width-a.left-a.right,o=(e=e-a.top-a.bottom-5,d3.scale.ordinal().rangeRoundBands([0,r],.1,.5)),i=d3.scale.linear().range([e,0]),d=d3.scale.category20c(),l=d3.svg.axis().scale(o).orient("bottom"),s=d3.svg.axis().scale(i).orient("left").ticks(10,"%"),c=n.append("svg"),u=c.attr("width",r+a.left+a.right).attr("height",e+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")"),f=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return t.frequency});u.call(f),d3.tsv("http://demo.interface.club/limitless/demo/Template/global_assets/demo_data/d3/bars/bars_tooltip.tsv",function(t,n){n.forEach(function(t){t.frequency=+t.frequency}),o.domain(n.map(function(t){return t.letter})),i.domain([0,d3.max(n,function(t){return t.frequency})]),u.append("g").attr("class","d3-axis d3-axis-horizontal").attr("transform","translate(0,"+e+")").call(l),u.append("g").attr("class","d3-axis d3-axis-vertical").call(s).append("text").attr("class","d3-axis-title").attr("transform","rotate(-90)").attr("y",10).attr("dy",".71em").style("text-anchor","end").text("Frequency"),u.selectAll(".d3-bar").data(n).enter().append("rect").attr("class","d3-bar").style("fill",function(t){return d(t.letter)}).attr("x",function(t){return o(t.letter)}).attr("width",o.rangeBand()).attr("y",function(t){return i(t.frequency)}).attr("height",function(t){return e-i(t.frequency)}).on("mouseover",f.attr("class","tooltip-inner in").show).on("mouseout",f.hide)}),window.addEventListener("resize",p);var g=document.querySelector(".sidebar-control");function p(){r=n.node().getBoundingClientRect().width-a.left-a.right,c.attr("width",r+a.left+a.right),u.attr("width",r+a.left+a.right),o.rangeRoundBands([0,r],.1,.5),u.selectAll(".d3-axis-horizontal").call(l),u.selectAll(".d3-bar").attr("x",function(t){return o(t.letter)}).attr("width",o.rangeBand())}g&&g.addEventListener("click",p)}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3BarTooltip.init()});