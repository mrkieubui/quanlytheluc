var D3ChordArcs={init:function(){!function(){if("undefined"!=typeof d3){var t=document.getElementById("d3-chord-arc");if(t){var n=[[6,32,47,81,31,89,24,68,50,39],[37,83,57,80,87,7,85,7,68,17],[50,15,31,3,1,85,36,95,83,99],[19,99,97,79,74,43,78,18,4,57],[77,2,87,41,93,52,6,42,11,76],[91,56,97,65,23,60,63,68,45,48],[17,77,96,22,87,98,58,15,36,16],[44,54,60,69,36,44,76,58,50,16]];function r(t){var n=(t.endAngle-t.startAngle)/t.value;return d3.range(0,t.value,50).map(function(r,e){return{angle:r*n+t.startAngle,label:e%2?null:r}})}function e(t,n){return function(r,e){n.selectAll(".d3-chord path").filter(function(t){return t.source.index!=e&&t.target.index!=e}).transition().style("opacity",t)}}d3.chart=d3.chart||{},d3.chart.chord=function(t){var n,a={},d=.37*Math.min(400,400),o=1.1*d,c=d3.scale.category20c(),l=d3.layout.chord().padding(.05).sortSubgroups(d3.descending),i=d3.svg.arc().innerRadius(d).outerRadius(o);return a.update=function(t){if(l.matrix()){var n={groups:l.groups()};l.matrix(t),a.transition(n)}else l.matrix(t),a.render()},a.clear=function(){d3.select(t).selectAll("svg").remove()},a.transition=function(t){n.selectAll(".d3-arc").data(l.groups).transition().duration(1500).attrTween("d",function(t,n){return function(r,e){return e=d3.interpolate(n.groups[e],r),function(n){return t(e(n))}}}(i,t))},a.render=function(){a.clear(),(n=d3.select(t).append("svg").attr("width",400).attr("height",400).append("g").attr("transform","translate(200,200)")).append("g").selectAll("path").data(l.groups).enter().append("path").attr("class","d3-arc").style("fill",function(t){return c(t.index)}).style("stroke",function(t){return c(t.index)}).attr("d",i).on("mouseover",e(.1,n)).on("mouseout",e(1,n));var s=n.append("g").attr("class","d3-axis").selectAll("g").data(l.groups).enter().append("g").selectAll("g").data(r).enter().append("g").attr("transform",function(t){return"rotate("+(180*t.angle/Math.PI-90)+")translate("+o+",0)"});s.append("line").attr("x1",1).attr("y1",0).attr("x2",5).attr("y2",0),s.append("text").attr("class","d3-text").attr("x",8).attr("dy",".35em").attr("text-anchor",function(t){return t.angle>Math.PI?"end":null}).attr("transform",function(t){return t.angle>Math.PI?"rotate(180)translate(-16)":null}).style("font-size",12).text(function(t){return t.label}),n.append("g").attr("class","d3-chord").selectAll("path").data(l.chords).enter().append("path").attr("class","d3-slice-border").attr("d",d3.svg.chord().radius(d)).style("fill",function(t){return c(t.target.index)}).style("stroke-width",1).style("fill-opacity",.7)},a};for(var a=1;a<=3;a++)d();function d(r){var e=d3.chart.chord(t);e.update(n),d3.select("#update-arc").on("click",function(){var t=function(t){for(var n=[],r=0;r<8;r++){for(var e=[],a=0;a<8;a++){var d=Math.round(100*Math.pow(Math.random(),2)+1);e.push(d)}n.push(e)}return n}();e.update(t)}),d3.select("#clear-arc").on("click",function(){e.clear()}),d3.select("#render-arc").on("click",function(){e.render()})}}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3ChordArcs.init()});