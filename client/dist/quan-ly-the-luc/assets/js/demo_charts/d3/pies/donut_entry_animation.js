var D3PieDonutEntryAnimation={init:function(){!function(){if("undefined"!=typeof d3){var t=document.getElementById("d3-donut-entry-animation");if(t){var e=d3.scale.category20(),n="#fff",a=d3.select(t).append("svg").attr("width",240).attr("height",240).append("g").attr("transform","translate(120,120)"),r=d3.svg.arc().outerRadius(120).innerRadius(120/1.75),i=d3.layout.pie().sort(null).value(function(t){return t.population});d3.csv("../../../../global_assets/demo_data/d3/pies/pies_basic.csv",function(t,o){o.forEach(function(t){t.population=+t.population});var d=a.selectAll(".d3-arc").data(i(o)).enter().append("g").attr("class","d3-arc");function l(t){t.innerRadius=0;var e=d3.interpolate({startAngle:0,endAngle:0},t);return function(t){return r(e(t))}}d.append("path").attr("d",r).attr("class","d3-slice-border").style("fill",function(t){return e(t.data.age)}).transition().ease("linear").duration(1e3).attrTween("d",l),d.append("text").attr("transform",function(t){return"translate("+r.centroid(t)+")"}).attr("dy",".35em").style("opacity",0).style("fill",n).style("text-anchor","middle").text(function(t){return t.data.age}).transition().ease("linear").delay(1e3).duration(500).style("opacity",1),d3.select(".donut-animation").on("click",function(){a.selectAll("path, text").remove(),d.append("path").attr("d",r).attr("class","d3-slice-border").style("fill",function(t){return e(t.data.age)}).transition().ease("linear").duration(1e3).attrTween("d",l),d.append("text").attr("transform",function(t){return"translate("+r.centroid(t)+")"}).style("opacity",0).style("fill",n).attr("dy",".35em").style("text-anchor","middle").text(function(t){return t.data.age}).transition().ease("linear").delay(1e3).duration(500).style("opacity",1)})})}}else console.warn("Warning - d3.min.js is not loaded.")}()}};document.addEventListener("DOMContentLoaded",function(){D3PieDonutEntryAnimation.init()});