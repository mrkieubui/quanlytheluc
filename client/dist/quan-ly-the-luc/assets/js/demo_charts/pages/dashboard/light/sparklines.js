var DashboardSparklines=function(){var t=function(t,a,e,n,r,i,s,o){if("undefined"!=typeof d3){if($(t).length>0){for(var l=d3.select(t),d={top:0,right:0,bottom:0,left:0},c=l.node().getBoundingClientRect().width-d.left-d.right,u=(n=n-d.top-d.bottom,[]),f=0;f<e;f++)u.push(Math.floor(Math.random()*e)+5);var p=d3.scale.linear().range([0,c]),h=d3.scale.linear().range([n-5,5]);p.domain([1,e-3]),h.domain([0,e]);var g=d3.svg.line().interpolate(r).x(function(t,a){return p(a)}).y(function(t,a){return h(t)}),v=d3.svg.area().interpolate(r).x(function(t,a){return p(a)}).y0(n).y1(function(t){return h(t)}),m=l.append("svg"),b=m.attr("width",c+d.left+d.right).attr("height",n+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")"),w=b.append("defs").append("clipPath").attr("id",function(a,e){return"load-clip-"+t.substring(1)}).append("rect").attr("class","load-clip").attr("width",0).attr("height",n);w.transition().duration(1e3).ease("linear").attr("width",c);var y=b.append("g").attr("clip-path",function(a,e){return"url(#load-clip-"+t.substring(1)+")"}).append("path").datum(u).attr("transform","translate("+p(0)+",0)");"area"==a?y.attr("d",v).attr("class","d3-area").style("fill",o):y.attr("d",g).attr("class","d3-line d3-line-strong").style("stroke",o),y.style("opacity",0).transition().duration(750).style("opacity",1),setInterval(function(){u.push(Math.floor(Math.random()*e)+5),u.shift(),y.attr("transform",null).transition().duration(i).ease("linear").attr("transform","translate("+p(0)+",0)"),"area"==a?y.attr("d",v).attr("class","d3-area").style("fill",o):y.attr("d",g).attr("class","d3-line d3-line-strong").style("stroke",o)},s),window.addEventListener("resize",C);var k=document.querySelector(".sidebar-control");function C(){c=l.node().getBoundingClientRect().width-d.left-d.right,m.attr("width",c+d.left+d.right),b.attr("width",c+d.left+d.right),p.range([0,c]),w.attr("width",c),b.select(".d3-line").attr("d",g),b.select(".d3-area").attr("d",v)}k&&k.addEventListener("click",C)}}else console.warn("Warning - d3.min.js is not loaded.")};return{init:function(){t("#new-visitors","line",30,35,"basis",750,2e3,"#26A69A"),t("#new-sessions","line",30,35,"basis",750,2e3,"#FF7043"),t("#total-online","line",30,35,"basis",750,2e3,"#5C6BC0"),t("#server-load","area",30,50,"basis",750,2e3,"rgba(255,255,255,0.5)")}}}();document.addEventListener("DOMContentLoaded",function(){DashboardSparklines.init()});